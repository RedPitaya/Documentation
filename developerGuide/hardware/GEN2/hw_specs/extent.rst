

#############################
Extension connectors (Gen 2)
#############################

.. note::

    **This page is currently under construction.** All relevant information will be added before the official Gen 2 release.
    Please check back later for updates.

.. contents:: **Index**
   :local:
   :backlinks: none

|

.. figure:: img/Red_Pitaya_pinout.jpg
    :width: 800

|

.. TODO use group-tabs
.. TODO add E3 image

Extension connector power supply
==================================

* **Available voltages**: ±5 V, +3.3 V.
* **Current limitations**:

    * 0.5 A for +5 V (to be shared between extension module and USB devices).
    * 0.5 A for -5 V (to be shared between extension module and USB devices).
    * 0.5 A for +3V3 (to be shared between extension module and USB devices).

.. TODO add voltage limitations


.. _E1_gen2:

Extension connector E1
======================

* E1 connector: `2 x 13 pins IDC 2.54 mm pitch <https://www.digikey.com/en/products/detail/adam-tech/BHR-26-VUA/9832284>`_.

Please note that there are differences in the FPGA pin numbers for different Red Pitaya board models. For precise configuration details, please refer to the board model documentation and schematics.

.. note::

    Looking for :ref:`Gen 1 pinout <E1_gen1>`?

.. tabs::

    .. group-tab:: STEMlab 125-14 Gen2

        * Two +3V3 power sources.
        * 16 single ended or 8 differential digital I/Os with 3.3 V logic levels.
        * Two CAN busses.

        .. TODO current limits!
                
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | Pin | Description           | FPGA pin number   | FPGA pin description                          | Voltage levels |
        +=====+=======================+===================+===============================================+================+
        | 1   | 3V3                   |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 2   | 3V3                   |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 3   | DIO0_P / EXT TRIG     | G17               | IO_L16P_T2_35                                 | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 4   | DIO0_N / TRIG OUT     | G18               | IO_L16N_T2_35                                 | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 5   | DIO1_P                | H16               | IO_L13P_T2_MRCC_35                            | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 6   | DIO1_N                | H17               | IO_L13N_T2_MRCC_35                            | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 7   | DIO2_P                | J18               | IO_L14P_T2_AD4P_SRCC_35                       | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 8   | DIO2_N                | H18               | IO_L14N_T2_AD4N_SRCC_35                       | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 9   | DIO3_P                | K17               | IO_L12P_T1_MRCC_35                            | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 10  | DIO3_N                | K18               | IO_L12N_T1_MRCC_35                            | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 11  | DIO4_P                | L14               | IO_L22P_T3_AD7P_35                            | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 12  | DIO4_N                | L15               | IO_L22N_T3_AD7N_35                            | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 13  | DIO5_P                | L16               | IO_L11P_T1_SRCC_35                            | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 14  | DIO5_N                | L17               | IO_L11N_T1_SRCC_35                            | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 15  | DIO6_P / CAN1_RX      | K16               | IO_L24P_T3_AD15P_35                           | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 16  | DIO6_N / CAN1_TX      | J16               | IO_L24N_T3_AD15N_35                           | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 17  | DIO7_P / CAN0_RX      | M14               | IO_L23P_T3_35                                 | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 18  | DIO7_N / CAN0_TX      | M15               | IO_L23N_T3_35                                 | 3.3V           |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 19  | NC                    |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 20  | NC                    |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 21  | NC                    |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 22  | NC                    |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 23  | NC                    |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 24  | NC                    |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 25  | GND                   |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 26  | GND                   |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+

    .. group-tab:: STEMlab 125-14 Gen2 Pro

        * Two +3V3 power sources.
        * 16 single ended or 8 differential digital I/Os with 3.3 V logic levels.
        * Two CAN busses.

        .. TODO current limits!
                
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | Pin | Description           | FPGA pin number   | FPGA pin description                          | Voltage levels |
        +=====+=======================+===================+===============================================+================+
        | 1   | 3V3                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 2   | 3V3                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 3   | DIO0_P / EXT TRIG     | G17               | IO_L16P_T2_35                                 | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 4   | DIO0_N / TRIG OUT     | G18               | IO_L16N_T2_35                                 | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 5   | DIO1_P                | H16               | IO_L13P_T2_MRCC_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 6   | DIO1_N                | H17               | IO_L13N_T2_MRCC_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 7   | DIO2_P                | J18               | IO_L14P_T2_AD4P_SRCC_35                       | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 8   | DIO2_N                | H18               | IO_L14N_T2_AD4N_SRCC_35                       | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 9   | DIO3_P                | K17               | IO_L12P_T1_MRCC_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 10  | DIO3_N                | K18               | IO_L12N_T1_MRCC_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 11  | DIO4_P                | L14               | IO_L22P_T3_AD7P_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 12  | DIO4_N                | L15               | IO_L22N_T3_AD7N_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 13  | DIO5_P                | L16               | IO_L11P_T1_SRCC_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 14  | DIO5_N                | L17               | IO_L11N_T1_SRCC_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 15  | DIO6_P / CAN1_RX      | K16               | IO_L24P_T3_AD15P_35                           | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 16  | DIO6_N / CAN1_TX      | J16               | IO_L24N_T3_AD15N_35                           | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 17  | DIO7_P / CAN0_RX      | M14               | IO_L23P_T3_35                                 | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 18  | DIO7_N / CAN0_TX      | M15               | IO_L23N_T3_35                                 | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 19  | NC                    | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 20  | NC                    | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 21  | NC                    | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 22  | NC                    | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 23  | NC                    | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 24  | NC                    | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 25  | GND                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 26  | GND                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+

    .. group-tab:: STEMlab 125-14 Gen2 Z7020 Pro

        * Two +3V3 power sources (max 0.5 A of current).
        * 22 single ended or 11 differential digital I/Os with 3.3 V logic levels.
        * Two CAN busses.

            .. TODO current limits!
                
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | Pin | Description           | FPGA pin number   | FPGA pin description                          | Voltage levels |
        +=====+=======================+===================+===============================================+================+
        | 1   | 3V3                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 2   | 3V3                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 3   | DIO0_P / EXT TRIG     | G17               | IO_L16P_T2_35                                 | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 4   | DIO0_N / TRIG OUT     | G18               | IO_L16N_T2_35                                 | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 5   | DIO1_P                | H16               | IO_L13P_T2_MRCC_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 6   | DIO1_N                | H17               | IO_L13N_T2_MRCC_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 7   | DIO2_P                | J18               | IO_L14P_T2_AD4P_SRCC_35                       | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 8   | DIO2_N                | H18               | IO_L14N_T2_AD4N_SRCC_35                       | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 9   | DIO3_P                | K17               | IO_L12P_T1_MRCC_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 10  | DIO3_N                | K18               | IO_L12N_T1_MRCC_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 11  | DIO4_P                | L14               | IO_L22P_T3_AD7P_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 12  | DIO4_N                | L15               | IO_L22N_T3_AD7N_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 13  | DIO5_P                | L16               | IO_L11P_T1_SRCC_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 14  | DIO5_N                | L17               | IO_L11N_T1_SRCC_35                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 15  | DIO6_P / CAN1_RX      | K16               | IO_L24P_T3_AD15P_35                           | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 16  | DIO6_N / CAN1_TX      | J16               | IO_L24N_T3_AD15N_35                           | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 17  | DIO7_P / CAN0_RX      | M14               | IO_L23P_T3_35                                 | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 18  | DIO7_N / CAN0_TX      | M15               | IO_L23N_T3_35                                 | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 19  | DIO8_P                | Y9                | IO_L14P_T2_SRCC_13                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 20  | DIO8_N                | Y8                | IO_L14N_T2_SRCC_13                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 21  | DIO9_P                | Y12               | IO_L20P_T3_13                                 | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 22  | DIO9_N                | Y13               | IO_L20N_T3_13                                 | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 23  | DIO10_P               | Y7                | IO_L13P_T2_MRCC_13                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 24  | DIO10_N               | Y6                | IO_L13N_T2_MRCC_13                            | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 25  | GND                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 26  | GND                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+

.. note::
        
    To change the functionality of DIO6_P, DIO6_N, DIO7_P and DIO7_N from GPIO to CAN, please modify the **housekeeping** register value at **address 0x34**. For further details, please refer to the :ref:`FPGA register section <fpga_registers>`.
        
    The change can also be performed with the appropriate SCPI or API command. Please refer to the :ref:`CAN commands section <commands_can>` for further details.
        
All DIOx_y pins are LVCMOS33, with the following abs. max. ratings:

    * Min. -0.40 V.
    * Max. 3.3 V + 0.55 V.
    * < 8 mA drive strength.

.. _E2_gen2:

Extension connector E2
======================

* E2 connector: `2 x 13 pins IDC 2.54 mm pitch <https://www.digikey.com/en/products/detail/adam-tech/BHR-26-VUA/9832284>`_.

Please note that there are differences in the FPGA pin numbers for different Red Pitaya board models. For precise configuration details, please refer to the board model documentation and schematics.

.. note::

    Looking for :ref:`Gen 1 pinout <E2_gen1>`?

.. tabs::

    .. group-tab:: STEMlab 125-14 Gen2

        * ±5 V power sources.
        * SPI, UART, I2C communication interfaces.
        * 4 slow ADCs.
        * 4 slow DACs (PWM).

        .. TODO check current limits!

        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | Pin | Description           | FPGA pin number   | FPGA pin description                          | Voltage levels |
        +=====+=======================+===================+===============================================+================+
        | 1   | +5 V                  |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 2   | -5 V                  |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 3   | SPI (MOSI)            | E9                | PS_MIO10_500                                  | 3.3 V          |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 4   | SPI (MISO)            | C6                | PS_MIO11_500                                  | 3.3 V          |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 5   | SPI (SCK)             | D9                | PS_MIO12_500                                  | 3.3 V          |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 6   | SPI (CS)              | E8                | PS_MIO13_500                                  | 3.3 V          |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 7   | UART (TX)             | D5                | PS_MIO8_500                                   | 3.3 V          |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 8   | UART (RX)             | B5                | PS_MIO9_500                                   | 3.3 V          |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 9   | I2C (SCL)             | B13               | PS_MIO50_501                                  | 3.3 V          |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 10  | I2C (SDA)             | B9                | PS_MIO51_501                                  | 3.3 V          |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 11  | Ext com. mode (AIN)   |                   |                                               | Ext. GND       |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 12  | GND                   |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 13  | Analog Input 0        | B19, A20          | IO_L2P_T0_AD8P_35, IO_L2N_T0_AD8N_35          | 0-3.5 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 14  | Analog Input 1        | C20, B20          | IO_L1P_T0_AD0P_35, IO_L1N_T0_AD0N_35          | 0-3.5 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 15  | Analog Input 2        | E17, D18          | IO_L3P_T0_DQS_AD1P_35, IO_L3N_T0_DQS_AD1N_35  | 0-3.5 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 16  | Analog Input 3        | E18, E19          | IO_L5P_T0_AD9P_35, IO_L5N_T0_AD9N_35          | 0-3.5 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 17  | Analog Output 0       | T10               | IO_L1N_T0_34                                  | 0-1.8 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 18  | Analog Output 1       | T11               | IO_L1P_T0_34                                  | 0-1.8 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 19  | Analog Output 2       | P15               | IO_L24P_T3_34                                 | 0-1.8 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 20  | Analog Output 3       | U13               | IO_L3P_T0_DQS_PUDC_B_34                       | 0-1.8 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 21  | GND                   |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 22  | GND                   |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 23  | NC                    |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 24  | NC                    |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 25  | GND                   |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 26  | GND                   |                   |                                               |                |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+

    .. group-tab:: STEMlab 125-14 Gen2 Pro

        * ±5 V power sources (max 3 A of current per port).
        * SPI, UART, I2C communication interfaces.
        * 4 slow ADCs.
        * 4 slow DACs (PWM).
        * External clock input.

        .. TODO check current limits!

        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | Pin | Description           | FPGA pin number   | FPGA pin description                          | Voltage levels |
        +=====+=======================+===================+===============================================+================+
        | 1   | +5V                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 2   | -5V                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 3   | SPI (MOSI)            | E9                | PS_MIO10_500                                  | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 4   | SPI (MISO)            | C6                | PS_MIO11_500                                  | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 5   | SPI (SCK)             | D9                | PS_MIO12_500                                  | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 6   | SPI (CS)              | E8                | PS_MIO13_500                                  | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 7   | UART (TX)             | D5                | PS_MIO8_500                                   | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 8   | UART (RX)             | B5                | PS_MIO9_500                                   | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 9   | I2C (SCL)             | B13               | PS_MIO50_501                                  | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 10  | I2C (SDA)             | B9                | PS_MIO51_501                                  | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 11  | Ext com. mode (AIN)   | -                 | -                                             | Ext. GND       |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 12  | GND                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 13  | Analog Input 0        | B19, A20          | IO_L2P_T0_AD8P_35, IO_L2N_T0_AD8N_35          | 0-3.5 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 14  | Analog Input 1        | C20, B20          | IO_L1P_T0_AD0P_35, IO_L1N_T0_AD0N_35          | 0-3.5 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 15  | Analog Input 2        | E17, D18          | IO_L3P_T0_DQS_AD1P_35, IO_L3N_T0_DQS_AD1N_35  | 0-3.5 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 16  | Analog Input 3        | E18, E19          | IO_L5P_T0_AD9P_35, IO_L5N_T0_AD9N_35          | 0-3.5 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 17  | Analog Output 0       | T10               | IO_L1N_T0_34                                  | 0-1.8 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 18  | Analog Output 1       | T11               | IO_L1P_T0_34                                  | 0-1.8 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 19  | Analog Output 2       | P15               | IO_L24P_T3_34                                 | 0-1.8 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 20  | Analog Output 3       | U13               | IO_L3P_T0_DQS_PUDC_B_34                       | 0-1.8 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 21  | ADC CLK Sel.          | -                 | -                                             | 3V3 [#f2]_     |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 22  | GND                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 23  | Ext. ADC Clk+ [#f1]_  | U18               | IO_L12P_T1_MRCC_34                            | LVDS [#f2]_    |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 24  | Ext. ADC Clk- [#f1]_  | U19               | IO_L12P_T1_MRCC_34                            | LVDS [#f2]_    |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 25  | GND                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 26  | GND                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+

    .. group-tab:: STEMlab 125-14 Gen2 Z7020 Pro

        * ±5 V power sources (max 3 A of current per port).
        * SPI, UART, I2C communication interfaces.
        * 4 slow ADCs.
        * 4 slow DACs (PWM).
        * External clock input.

        .. TODO check current limits!

        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | Pin | Description           | FPGA pin number   | FPGA pin description                          | Voltage levels |
        +=====+=======================+===================+===============================================+================+
        | 1   | +5V                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 2   | -5V                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 3   | SPI (MOSI)            | E9                | PS_MIO10_500                                  | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 4   | SPI (MISO)            | C6                | PS_MIO11_500                                  | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 5   | SPI (SCK)             | D9                | PS_MIO12_500                                  | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 6   | SPI (CS)              | E8                | PS_MIO13_500                                  | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 7   | UART (TX)             | D5                | PS_MIO8_500                                   | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 8   | UART (RX)             | B5                | PS_MIO9_500                                   | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 9   | I2C (SCL)             | B13               | PS_MIO50_501                                  | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 10  | I2C (SDA)             | B9                | PS_MIO51_501                                  | 3V3            |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 11  | Ext com. mode (AIN)   | -                 | -                                             | Ext. GND       |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 12  | GND                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 13  | Analog Input 0        | B19, A20          | IO_L2P_T0_AD8P_35, IO_L2N_T0_AD8N_35          | 0-3.5 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 14  | Analog Input 1        | C20, B20          | IO_L1P_T0_AD0P_35, IO_L1N_T0_AD0N_35          | 0-3.5 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 15  | Analog Input 2        | E17, D18          | IO_L3P_T0_DQS_AD1P_35, IO_L3N_T0_DQS_AD1N_35  | 0-3.5 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 16  | Analog Input 3        | E18, E19          | IO_L5P_T0_AD9P_35, IO_L5N_T0_AD9N_35          | 0-3.5 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 17  | Analog Output 0       | T10               | IO_L1N_T0_34                                  | 0-1.8 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 18  | Analog Output 1       | T11               | IO_L1P_T0_34                                  | 0-1.8 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 19  | Analog Output 2       | P15               | IO_L24P_T3_34                                 | 0-1.8 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 20  | Analog Output 3       | U13               | IO_L3P_T0_DQS_PUDC_B_34                       | 0-1.8 V        |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 21  | ADC CLK Sel.          | -                 | -                                             | 3V3 [#f2]_     |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 22  | GND                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 23  | Ext. ADC Clk+ [#f1]_  | U18               | IO_L12P_T1_MRCC_34                            | LVDS [#f2]_    |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 24  | Ext. ADC Clk- [#f1]_  | U19               | IO_L12P_T1_MRCC_34                            | LVDS [#f2]_    |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 25  | GND                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+
        | 26  | GND                   | -                 | -                                             | -              |
        +-----+-----------------------+-------------------+-----------------------------------------------+----------------+


The pinout of the extension connectors is shown in the figure below.

.. figure:: img/Red_Pitaya_pinout.jpg
    :width: 700
    :align: center

|

.. _E3_gen2:

Extension connector E3
======================

* E3 connector: `2 x 20 pins Micro Blade & Beam 0.50 mm pitch <https://www.samtec.com/products/ss5-20-3.00-l-d-k-tr#compliance>`_.

Please note that there are differences in the FPGA pin numbers for different Red Pitaya board models. For precise configuration details, please refer to the board model documentation and schematics.

.. tabs::

    .. group-tab:: STEMlab 125-14 Gen2

        The E3 connector is not available on the STEMlab 125-14 Gen2 board.

    .. group-tab:: STEMlab 125-14 Gen2 Pro

        * QSPI pins.
        * eMMC pins.
        * I2C.
        * Power and control signals.

        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | Pin | Description                        | FPGA pin number | FPGA pin description   | Voltage levels | Voltage levels | FPGA pin description   | FPGA pin number | Description                        | Pin |
        +=====+====================================+=================+========================+================+================+========================+=================+====================================+=====+
        | 39  | +5V                                | -               | -                      | -              | -              |  -                     | -               | +5V                                | 40  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 37  | NC                                 | -               | -                      | -              | 3V3            | PS_MIO6_500            | A5              | SFSPI_SCK                          | 38  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 35  | NC                                 | -               | -                      | -              | 3V3            | PS_MIO1_500            | A7              | SFSPI_CS#                          | 36  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 33  | NC                                 | -               | -                      | -              | 3V3            | PS_MIO2_500            | B8              | SFSPI_IO0                          | 34  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 31  | NC                                 | -               | -                      | -              | 3V3            | PS_MIO3_500            | D6              | SFSPI_IO1                          | 32  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 29  | NC                                 | -               | -                      | -              | 3V3            | PS_MIO4_500            | B7              | SFSPI_IO2                          | 30  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 27  | NC                                 | -               | -                      | -              | 3V3            | PS_MIO5_500            | A6              | SFSPI_IO3                          | 28  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 25  | NC                                 | -               | -                      | -              | -              | -                      | -               | GND                                | 26  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 23  | NC                                 | -               | -                      | -              | 3V3            | PS_MIO40_501           | D14             | EMMC_CLK                           | 24  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 21  | NC                                 | -               | -                      | -              | -              | -                      |                 | GND                                | 22  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 19  | NC                                 | -               | -                      | -              | 3V3            | PS_MIO42_501           | E12             | EMMC_DAT0                          | 20  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 17  | NC                                 | -               | -                      | -              | 3V3            | PS_MIO43_501           | A9              | EMMC_DAT1                          | 18  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 15  | NC                                 | -               | -                      | -              | -              | -                      | -               | GND                                | 16  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 13  | NC                                 | -               | -                      | -              | 3V3            | PS_MIO44_501           | F13             | EMMC_DAT2                          | 14  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 11  | NC                                 | -               | -                      | -              | 3V3            | PS_MIO45_501           | B15             | EMMC_DAT3                          | 12  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 9   | NC                                 | -               | -                      | -              | 3V3            | PS_MIO41_501           | C17             | EMMC_CMD                           | 10  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 7   | NC                                 | -               | -                      | -              | 3V3            | -                      | -               | I2C0_SDA                           | 8   |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 5   | PWR_ON                             | -               | -                      | 3V3            | 3V3            | PS_MIO46_501           | D16             | SDIO_SEL [#f4]_                    | 6   |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 3   | PS_POR#                            | C7              | PS_POR_B_500           | 3V3            | 3V3            | PS_MIO7_500            | D8              | E3_WDT_KICK                        | 4   |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 1   | I2C0_SCL                           | -               | -                      | 3V3            | 3V3            | PS_MIO0_500            | E6              | E3_SHDN                            | 2   |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+


    .. group-tab:: STEMlab 125-14 Gen2 Z7020 Pro

        * QSPI pins.
        * eMMC pins.
        * I2C.
        * Power and control signals.
        * 8 LVDS differential pair lines (16 GPIOs).

        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | Pin | Description                        | FPGA pin number | FPGA pin description   | Voltage levels | Voltage levels | FPGA pin description   | FPGA pin number | Description                        | Pin |
        +=====+====================================+=================+========================+================+================+========================+=================+====================================+=====+
        | 39  | +5V                                | -               | -                      | -              | -              |  -                     | -               | +5V                                | 40  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 37  | DIO12_N (I2C1_SDA/UART_RX) [#f3]_  | U10             | IO_L12N_T1_MRCC_13     | LVDS           | 3V3            | PS_MIO6_500            | A5              | SFSPI_SCK                          | 38  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 35  | DIO12_P (I2C1_SCL/UART_TX) [#f3]_  | T9              | IO_L12P_T1_MRCC_13     | LVDS           | 3V3            | PS_MIO1_500            | A7              | SFSPI_CS#                          | 36  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 33  | DIO18_N                            | V10             | IO_L21N_T3_DQS_13      | LVDS           | 3V3            | PS_MIO2_500            | B8              | SFSPI_IO0                          | 34  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 31  | DIO18_P                            | V11             | IO_L21P_T3_DQS_13      | LVDS           | 3V3            | PS_MIO3_500            | D6              | SFSPI_IO1                          | 32  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 29  | DIO16_N                            | Y11             | IO_L18N_T2_13          | LVDS           | 3V3            | PS_MIO4_500            | B7              | SFSPI_IO2                          | 30  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 27  | DIO16_P                            | W11             | IO_L18P_T2_13          | LVDS           | 3V3            | PS_MIO5_500            | A6              | SFSPI_IO3                          | 28  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 25  | DIO14_N                            | W9              | IO_L16N_T2_13          | LVDS           | -              | -                      | -               | GND                                | 26  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 23  | DIO14_P                            | W10             | IO_L16P_T2_13          | LVDS           | 3V3            | PS_MIO40_501           | D14             | EMMC_CLK                           | 24  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 21  | DIO15_N                            | U8              | IO_L17N_T2_13          | LVDS           | -              | -                      |                 | GND                                | 22  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 19  | DIO15_P                            | U9              | IO_L17P_T2_13          | LVDS           | 3V3            | PS_MIO42_501           | E12             | EMMC_DAT0                          | 20  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 17  | DIO13_N                            | W8              | IO_L15N_T2_DQS_13      | LVDS           | 3V3            | PS_MIO43_501           | A9              | EMMC_DAT1                          | 18  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 15  | DIO13_P                            | V8              | IO_L15P_T2_DQS_13      | LVDS           | -              | -                      | -               | GND                                | 16  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 13  | DIO11_N                            | V7              | IO_L11N_T1_SRCC_13     | LVDS           | 3V3            | PS_MIO44_501           | F13             | EMMC_DAT2                          | 14  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 11  | DIO11_P                            | U7              | IO_L11P_T1_SRCC_13     | LVDS           | 3V3            | PS_MIO45_501           | B15             | EMMC_DAT3                          | 12  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 9   | DIO17_N                            | U5              | IO_L19N_T3_VREF_13     | LVDS           | 3V3            | PS_MIO41_501           | C17             | EMMC_CMD                           | 10  |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 7   | DIO17_P                            | T5              | IO_L19P_T3_13          | LVDS           | 3V3            | -                      | -               | I2C0_SDA                           | 8   |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 5   | PWR_ON                             | -               | -                      | 3V3            | 3V3            | PS_MIO46_501           | D16             | SDIO_SEL [#f4]_                    | 6   |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 3   | PS_POR#                            | C7              | PS_POR_B_500           | 3V3            | 3V3            | PS_MIO7_500            | D8              | E3_WDT_KICK                        | 4   |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+
        | 1   | I2C0_SCL                           | -               | -                      | 3V3            | 3V3            | PS_MIO0_500            | E6              | E3_SHDN                            | 2   |
        +-----+------------------------------------+-----------------+------------------------+----------------+----------------+------------------------+-----------------+------------------------------------+-----+


The pinout of the extension connector E3 is shown in the figure below.

.. TODO Add figure of E3 connector pinout

|

Auxiliary analog input channels
===============================

+--------------------------+----------------------------------+
| Number of channels       | 4                                |
+--------------------------+----------------------------------+
| ADC resolution           | 12 bits                          |
+--------------------------+----------------------------------+
| Sampling rate            | 100 kS/s [#f5]_                  |
+--------------------------+----------------------------------+
| Input filter bandwidth   | 120 kHz                          |
+--------------------------+----------------------------------+
| Input voltage range      | 0 - 3.5 V                        |
+--------------------------+----------------------------------+
| Input coupling           | DC                               |
+--------------------------+----------------------------------+
| Connector                | Pins 13, 14, 15, 16 on           |
|                          | |E2|                             |
+--------------------------+----------------------------------+



Auxiliary analog output channels 
================================

+--------------------------+----------------------------------+
| Number of channels       | 4                                |
+--------------------------+----------------------------------+
| Output resolution        | 8 bits                           |
+--------------------------+----------------------------------+
| Sampling rate            | ≲ 3.2 MS/s                       |
+--------------------------+----------------------------------+
| Output filter bandwidth  | 200 kHz                          |
+--------------------------+----------------------------------+
| Output voltage range     | 0 - 1.8 V                        |
+--------------------------+----------------------------------+
| Output coupling          | DC                               |
+--------------------------+----------------------------------+
| Output type              | Low pass filtered PWM [#f6]_     |
+--------------------------+----------------------------------+
| PWM time resolution      | 8 ns (1/125 MHz)                 |
+--------------------------+----------------------------------+
| Connector                | Pins 17, 18, 19, 20 on           |
|                          | |E2|                             |
+--------------------------+----------------------------------+



General purpose digital input/output channels 
==================================================

To achieve the best performance, the GPIO pins are directly connected to the FPGA. The GPIO pins are not buffered and are not protected against overvoltage or short-circuit conditions. The user is responsible for ensuring that the GPIO pins are not exposed to voltages outside the specified range.

.. tabs::

    .. group-tab:: STEMlab 125-14 Gen2

        +--------------------------+----------------------------------+
        | Number of GPIOs          | 16                               |
        +--------------------------+----------------------------------+
        | Digital voltage level    | 3.3 V                            |
        +--------------------------+----------------------------------+
        | Abs. min. voltage        | -0.40 V                          |
        +--------------------------+----------------------------------+
        | Abs. max. voltage        | 3.3 V + 0.55 V                   |
        +--------------------------+----------------------------------+
        | Current limitation       | < 8 mA drive strength            |
        +--------------------------+----------------------------------+
        | Direction                | Configurable                     |
        +--------------------------+----------------------------------+
        | Time resolution          | 8 ns (1/125 MHz)                 |
        +--------------------------+----------------------------------+
        | Location                 | |E1|                             |
        +--------------------------+----------------------------------+

    .. group-tab:: STEMlab 125-14 Gen2 Pro

        +--------------------------+----------------------------------+
        | Number of GPIOs          | 16                               |
        +--------------------------+----------------------------------+
        | Digital voltage level    | 3.3 V                            |
        +--------------------------+----------------------------------+
        | Abs. min. voltage        | -0.40 V                          |
        +--------------------------+----------------------------------+
        | Abs. max. voltage        | 3.3 V + 0.55 V                   |
        +--------------------------+----------------------------------+
        | Current limitation       | < 8 mA drive strength            |
        +--------------------------+----------------------------------+
        | Direction                | Configurable                     |
        +--------------------------+----------------------------------+
        | Time resolution          | 8 ns (1/125 MHz)                 |
        +--------------------------+----------------------------------+
        | Location                 | |E1|                             |
        +--------------------------+----------------------------------+

    .. group-tab:: STEMlab 125-14 Gen2 Z7020 Pro

        +--------------------------+----------------------------------+
        | Number of GPIOs          | 22                               |
        +--------------------------+----------------------------------+
        | Digital voltage level    | 3.3 V                            |
        +--------------------------+----------------------------------+
        | Abs. min. voltage        | -0.40 V                          |
        +--------------------------+----------------------------------+
        | Abs. max. voltage        | 3.3 V + 0.55 V                   |
        +--------------------------+----------------------------------+
        | Current limitation       | < 8 mA drive strength            |
        +--------------------------+----------------------------------+
        | Direction                | Configurable                     |
        +--------------------------+----------------------------------+
        | Time resolution          | 8 ns (1/125 MHz)                 |
        +--------------------------+----------------------------------+
        | Location                 | |E1|                             |
        +--------------------------+----------------------------------+


Fast differential pairs
========================

There are 16 GPIO pins on the |E3| which can be used as normal GPIO pins or as fast differential pairs (or combination of the two).

.. tabs::

    .. group-tab:: STEMlab 125-14 Gen2

        The fast differential paris are not available on the STEMlab 125-14 Gen2 board.

    .. group-tab:: STEMlab 125-14 Gen2 Pro

        The fast differential paris are not available on the STEMlab 125-14 Gen2 Pro board.

    .. group-tab:: STEMlab 125-14 Gen2 Z7020 Pro

        +--------------------------+----------------------------------+
        | | Number of GPIOs        | | 16                             |
        | | or diff. pairs         | | 8                              |
        +--------------------------+----------------------------------+
        | Digital voltage level    | LVDS                             |
        +--------------------------+----------------------------------+
        | Abs. min. voltage        |                                  |
        +--------------------------+----------------------------------+
        | Abs. max. voltage        |                                  |
        +--------------------------+----------------------------------+
        | Current limitation       |     mA drive strength            |
        +--------------------------+----------------------------------+
        | Direction                | Configurable                     |
        +--------------------------+----------------------------------+
        | Time resolution          | 8 ns (1/125 MHz)                 |
        +--------------------------+----------------------------------+
        | Location                 | |E3|                             |
        +--------------------------+----------------------------------+

.. _sync_connectors_gen2:

Synchronisation connectors
===========================

The USB-C :ref:`S1 and S2 connectors <sync_connectors_gen2>` on |STEMlab 125-14 Gen 2 Pro| and |STEMlab 125-14 Gen 2 Z7020 Pro| boards are used for daisy chaining multiple Red Pitaya boards together. The S1 connector is used exclusively for transmitting clock and trigger signals of the currnet board
to the next board in the chain while the S2 connector is used exclusively for receiving clock and trigger signals from the previous board in the chain.

.. note::

    The Connectors S1 and S2 are used only for interconnection between two Red Pitaya modules. Note that connection is not compliant with USB-C specification.
    Do not connect S1 or S2 to any other USB-C ports except Red Pitaya S1 and S2 connectors.


Powering Red Pitaya through extension connector
===============================================

The Red Pitaya can also be powered through pin 1 of the extension |E2|, but in such a case, external protection must be provided by the user in order to protect the board!

.. figure:: img/schematics/Protection.png

|

Protection circuit between +5 V that is provided over the micro USB power connector and +5 VD that is connected to pin1 of the extension |E2|.


External ADC clock
===================

The main FPGA CLK signal on |STEMlab 125-14 Gen 2 Pro| and |STEMlab 125-14 Gen 2 Z7020 Pro| boards can be supplied from an external source through the **Ext. ADC Clk±** ports.

Both the internal oscillator clock and the external clock signal are connected to the `NB6L72`_ Differential Crosspoint Switch.
The **CLK_SEL** pin is used to select the clock source:

* 3V3 (logic high) or unconnected - **Internal clock**.
* GND (logic low) - **External clock**.

The clock signal then travelles from the output of the NB6L72 through the ADC to the FPGA.

**External clock specifications**
The external ADC clock should comply with `NB6L72`_ input specifications. The chip is powered by 3V3.

.. note::

    When synchronising multiple Red Pitaya Gen 2 Pro boards, please keep in mind that:

    * :ref:`Click Shield synchronisation <click_shield>` works out-of-the-box.
    * :ref:`X-channel synchronisation <x-ch_streaming>` requires a hardware modification as secondary boards differ from the primary board.


External booting options
==========================

The |E3| on the |STEMlab 125-14 Gen 2 Pro| and |STEMlab 125-14 Gen 2 Z7020 Pro| has pins for connecting an **external QSPI** (SFSPI pins) or **eMMC** (EMMC pins) chip.
QSPI or eMMC provides a more reliable and robust booting of the Red Pitaya board, which is extremely important for mission critical applications across a variety of industry sectors.

These chips should be located on an external module (for example, the :ref:`E3 Add-on board <E3_HW>`).


.. note::

    The information provided by Red Pitaya d.o.o. is believed to be accurate and reliable. However, no liability is accepted for its use. Please note that the contents may be subject to change without prior notice. 



.. rubric:: Footnotes

.. [#f1] The external ADC clock goes first to the `NB6L72 <https://www.onsemi.com/pdf/datasheet/nb6l72-d.pdf>`_ clock selector chip, then passes through the ADC to finally reach the FPGA pins.

.. [#f2] For exact voltage levels, please refer to the `NB6L72 <https://www.onsemi.com/pdf/datasheet/nb6l72-d.pdf>`_ datasheet.

.. [#f3] DIO12 differential pin pair is connected by default. The I2C1 and UART pins can be connected by changing the position of the resistors on the E3 board.

.. [#f4] Negative logic in the FPGA.

.. [#f5] The default software enables sampling at a CPU-dependent speed. To acquire data at a 100 kS/s rate, additional FPGA processing must be implemented.

.. [#f6] The output is passed through a first-order low-pass filter. Should additional filtering be required, this can be applied externally in line with the specific requirements of the application.  


.. substitutions

.. |E1| replace:: :ref:`E1 connector <E1_gen2>`
.. |E2| replace:: :ref:`E2 connector <E2_gen2>`
.. |E3| replace:: :ref:`E3 connector <E3_gen2>`
.. |Gen 2 hardware specs| replace:: :ref:`Gen 2 hardware specifications <hw_specs_gen2>`
.. |Gen 2 comparison table| replace:: :ref:`Gen 2 board comparison table <rp-board-comp-gen2>`
.. |STEMlab 125-14 Gen 2 Pro| replace:: :ref:`STEMlab 125-14 Gen2 Pro <top_125_14_gen2_pro>`
.. |STEMlab 125-14 Gen 2 Z7020 Pro| replace:: :ref:`STEMlab 125-14 Gen2 Z7020 Pro <top_125_14_gen2_z7020_pro>`
.. _NB6L72: https://www.onsemi.com/pdf/datasheet/nb6l72-d.pdf

.. :xref:`Clock selector (internal/external) <NB6172_datasheet>`_.
.. :xref:`NB6L72 <NB6172_datasheet>`